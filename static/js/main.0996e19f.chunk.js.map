{"version":3,"sources":["redux/pokeDucks.js","components/Detalle.jsx","components/Pokemones.jsx","firebase.js","redux/usuarioDucks.js","components/Navbar.jsx","components/Login.jsx","App.jsx","redux/store.js","index.js"],"names":["dataInicial","count","next","previous","results","OBTENER_POKEMONES_EXITO","SIGUIENTE_POKEMONES_EXITO","POKE_INFO_EXITO","unPokeDetalleAccion","url","dispatch","a","localStorage","getItem","type","payload","JSON","parse","axios","get","res","nombre","data","name","ancho","weight","alto","height","foto","sprites","front_default","setItem","stringify","console","log","Detalle","useDispatch","React","useEffect","pokemon","useSelector","store","pokemones","unPokemon","className","src","alt","Pokemones","map","item","onClick","length","getState","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","loading","activo","LOADING","USUARIO_ERROR","USUARIO_EXITO","CERRAR_SESION","withRouter","props","cerrarSesion","signOut","removeItem","history","push","usuario","to","exact","provider","GoogleAuthProvider","signInWithPopup","uid","user","email","disabled","App","useState","firebaseUser","setFirebaseUser","onAuthStateChanged","RutaPrivada","component","path","rest","Login","rootReducer","combineReducers","state","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","generateStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0996e19f.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\n// constantes\r\nconst dataInicial = {\r\n    count: 0,\r\n    next: null,\r\n    previous: null,\r\n    results: []\r\n}\r\n\r\n//types\r\nconst OBTENER_POKEMONES_EXITO = \"OBTENER_POKEMONES_EXITO\";\r\nconst SIGUIENTE_POKEMONES_EXITO = \"SIGUIENTE_POKEMONES_EXITO\";\r\nconst POKE_INFO_EXITO = \"POKE_INFO_EXITO\";\r\n\r\n// reducer\r\nexport default function pokeReducer(state = dataInicial, action){\r\n    switch(action.type){\r\n        case OBTENER_POKEMONES_EXITO:\r\n            return {...state, ...action.payload}\r\n        case SIGUIENTE_POKEMONES_EXITO:\r\n            return {...state, ...action.payload}\r\n        case POKE_INFO_EXITO:\r\n            return {...state, unPokemon: action.payload}\r\n        default:\r\n            return state \r\n    }\r\n}\r\n\r\n// acciones\r\nexport const unPokeDetalleAccion = (url = \"https://pokeapi.co/api/v2/pokemon/1/\") => async (dispatch) => {\r\n\r\n    if (localStorage.getItem(url)){\r\n        dispatch({\r\n            type: POKE_INFO_EXITO,\r\n            payload: JSON.parse(localStorage.getItem(url))\r\n        })        \r\n        return\r\n    }\r\n\r\n    try {\r\n        const res = await axios.get(url)\r\n        // console.log(res.data)\r\n        dispatch({\r\n            type: POKE_INFO_EXITO,\r\n            payload: {\r\n                nombre: res.data.name,\r\n                ancho: res.data.weight,\r\n                alto: res.data.height,\r\n                foto: res.data.sprites.front_default\r\n            }\r\n        })\r\n        localStorage.setItem(url, JSON.stringify({\r\n            nombre: res.data.name,\r\n            ancho: res.data.weight,\r\n            alto: res.data.height,\r\n            foto: res.data.sprites.front_default\r\n        }))\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport const obtenerPokemonesAccion = () => async (dispatch) => {\r\n        \r\n    if(localStorage.getItem(\"offset=0\")) {\r\n        dispatch({        \r\n            type: OBTENER_POKEMONES_EXITO,\r\n            payload: JSON.parse(localStorage.getItem(\"offset=0\"))\r\n        })\r\n        return\r\n    }\r\n\r\n    try {\r\n        const res = await axios.get(`https://pokeapi.co/api/v2/pokemon?offset=0&limit=10`);\r\n        // console.log(res.data)\r\n        dispatch({        \r\n            type: OBTENER_POKEMONES_EXITO,\r\n            payload: res.data\r\n        })\r\n        localStorage.setItem(\"offset=0\", JSON.stringify(res.data))\r\n\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const siguientePokemonAccion = () => async (dispatch, getState) => {\r\n        \r\n    const next = getState().pokemones.next\r\n\r\n    if(localStorage.getItem(next)){\r\n        dispatch({\r\n            type: SIGUIENTE_POKEMONES_EXITO,\r\n            payload: JSON.parse(localStorage.getItem(next))\r\n        })\r\n        return\r\n    }\r\n\r\n    try {\r\n        const res = await axios.get(next);\r\n        dispatch({\r\n            type: SIGUIENTE_POKEMONES_EXITO,\r\n            payload: res.data\r\n        }) \r\n        localStorage.setItem(next, JSON.stringify(res.data))\r\n\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const anteriorPokemonAccion = () => async (dispatch, getState) => {\r\n\r\n    const previous = getState().pokemones.previous\r\n\r\n    if(localStorage.getItem(previous)){\r\n        dispatch({\r\n            type: SIGUIENTE_POKEMONES_EXITO,\r\n            payload: JSON.parse(localStorage.getItem(previous))\r\n        })\r\n        return\r\n    }\r\n\r\n    try {\r\n        const res = await axios.get(previous);\r\n        dispatch({\r\n            type: SIGUIENTE_POKEMONES_EXITO,\r\n            payload: res.data\r\n        }) \r\n        localStorage.setItem(previous, JSON.stringify(res.data))\r\n\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n\r\n\r\n}\r\n","import React from 'react'\r\nimport {useDispatch, useSelector} from \"react-redux\"\r\nimport {unPokeDetalleAccion} from \"../redux/pokeDucks\"\r\n\r\nconst Detalle = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    React.useEffect(() => {\r\n        const fetchData = () => {\r\n            dispatch(unPokeDetalleAccion())\r\n        }\r\n        fetchData()\r\n    }, [dispatch])\r\n\r\n    const pokemon = useSelector(store => store.pokemones.unPokemon)\r\n\r\n\r\n    return pokemon ? (\r\n        <div className=\"card mt-4 text-center\">\r\n            <div className=\"card-body\">\r\n                <img src={pokemon.foto} className=\"img-fluid\" alt=\"\"/>\r\n                <div className=\"card-title text-uppercase\">{pokemon.nombre}</div>\r\n                <p className=\"card-text\">Alto: {pokemon.alto} | Ancho: {pokemon.ancho} </p>\r\n            </div>\r\n        </div>\r\n    ) : null \r\n}\r\n\r\nexport default Detalle\r\n","import React from 'react';\r\n\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {obtenerPokemonesAccion, siguientePokemonAccion, anteriorPokemonAccion, unPokeDetalleAccion} from \"../redux/pokeDucks\"\r\nimport Detalle from './Detalle';\r\n\r\nconst Pokemones = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const pokemones = useSelector(store => store.pokemones.results)\r\n    const next = useSelector(store => store.pokemones.next)\r\n    const previous = useSelector(store => store.pokemones.previous)\r\n\r\n    return (\r\n        <div className=\"row mt-5\">\r\n\r\n            <div className=\"col-md-6\">\r\n\r\n               <h3>Lista de Pokemones</h3>\r\n\r\n               <ul className=\"list-group mt-4\">\r\n                    {\r\n                        pokemones.map(item => (\r\n                            <li key={item.name} className=\"list-group-item text-uppercase\">\r\n                                {item.name} \r\n                                <button \r\n                                className=\"btn btn-dark btn-sm float-right\"\r\n                                onClick={() => dispatch(unPokeDetalleAccion(item.url))}\r\n                                >\r\n                                    Info\r\n                                </button>\r\n                            </li>\r\n                        )) \r\n                    } \r\n                </ul>\r\n\r\n                <div className=\"d-flex justify-content-between my-4\">\r\n                    {\r\n                        pokemones.length === 0 && \r\n                        <button onClick={ () => dispatch(obtenerPokemonesAccion())} className=\"btn btn-dark\"> Get Pokemones </button>\r\n                    }\r\n\r\n                    {\r\n                        previous &&\r\n                        <button onClick={ () => dispatch(anteriorPokemonAccion())} className=\"btn btn-dark\"> Anterior </button>\r\n                    }\r\n\r\n                    {\r\n                        next &&\r\n                        <button onClick={ () => dispatch(siguientePokemonAccion())} className=\"btn btn-dark\"> Siguiente </button>\r\n                    }\r\n\r\n                </div>\r\n\r\n\r\n                \r\n            </div>\r\n            <div className=\"col-md-6\">\r\n                <h3>Detalle Pokemon</h3>\r\n                <Detalle />\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Pokemones\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\" \r\n\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBE787E1HNx8jqjuzxTjm670cK2FeuLdfE\",\r\n    authDomain: \"crud-udemy-react-50e51.firebaseapp.com\",\r\n    projectId: \"crud-udemy-react-50e51\",\r\n    storageBucket: \"crud-udemy-react-50e51.appspot.com\",\r\n    messagingSenderId: \"681605506248\",\r\n    appId: \"1:681605506248:web:f3ecdb1e2ad5c11f9131fd\"\r\n};\r\n  \r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst auth = firebase.auth()\r\n\r\nexport {auth, firebase}","import {auth, firebase} from \"../firebase\"\r\n\r\n\r\n// data inicial\r\nconst dataInicial = {\r\n    loading: false, \r\n    activo: false\r\n}\r\n\r\n// types\r\nconst LOADING = \"LOADING\"\r\nconst USUARIO_ERROR = \"USUARIO_ERROR\"\r\nconst USUARIO_EXITO = \"USUARIO_EXITO\"\r\nconst CERRAR_SESION = \"CERRAR_SESION\"\r\n\r\n// reducer\r\nexport default function usuarioReducer(state = dataInicial, action) {\r\n    switch(action.type){\r\n        case LOADING:\r\n            return {...state, loading: true}\r\n        case USUARIO_ERROR:\r\n            return {...dataInicial}\r\n        case USUARIO_EXITO: \r\n            return {...state, loading: false, user: action.payload, activo: true}\r\n        case CERRAR_SESION: \r\n            return {...dataInicial}\r\n        default:\r\n            return {...state }\r\n    }\r\n}\r\n\r\n// actions \r\nexport const ingresoUsuarioAccion = () => async (dispatch) => {\r\n  \r\n    dispatch({\r\n        type: LOADING\r\n    })\r\n  \r\n    try {\r\n\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n        const res = await auth.signInWithPopup(provider);\r\n        console.log(res);\r\n        dispatch({\r\n            type: USUARIO_EXITO,\r\n            payload: {\r\n                uid: res.user.uid,\r\n                email: res.user.email\r\n            }\r\n        })\r\n        localStorage.setItem(\"usuario\", JSON.stringify( {\r\n            uid: res.user.uid,\r\n            email: res.user.email\r\n        }))\r\n    \r\n    } catch (error) {\r\n        console.log(error)\r\n        dispatch({\r\n            type: USUARIO_ERROR \r\n        })\r\n    }\r\n}\r\n\r\nexport const leerUsuarioActivoAccion = () => (dispatch) => {\r\n    if (localStorage.getItem(\"usuario\")){\r\n        dispatch({\r\n            type: USUARIO_EXITO,\r\n            payload: JSON.parse(localStorage.getItem(\"usuario\"))\r\n        }) \r\n    }\r\n}\r\n\r\nexport const cerrarSesionAccion = () => (dispatch) => {\r\n    auth.signOut();\r\n    localStorage.removeItem(\"usuario\");\r\n    dispatch({\r\n        type: CERRAR_SESION,\r\n        \r\n    })\r\n}","import React from 'react'\r\nimport {Link, NavLink} from \"react-router-dom\"\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { cerrarSesionAccion } from \"../redux/usuarioDucks\"\r\nimport {withRouter} from \"react-router-dom\"\r\n\r\nconst Navbar = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const cerrarSesion = () => {\r\n        dispatch( cerrarSesionAccion() )\r\n        props.history.push(\"/login\")\r\n    }\r\n\r\n    const activo = useSelector(store => store.usuario.activo)\r\n\r\n    return (\r\n        <div className=\"navbar navbar-dark bg-dark\">\r\n            <Link className=\"navbar-brand mx-2\" to=\"/\"> POKE APP </Link>\r\n            <div className=\"d-flex\">\r\n                {\r\n                    activo ? (\r\n                        <> \r\n                            <NavLink className=\"btn btn-dark mx-2\" to=\"/\" exact>Inicio</NavLink>\r\n                            <button className=\"btn btn-dark mx-2\" onClick={() => cerrarSesion()}>Cerrar Sesión</button>\r\n                        </>\r\n                    ) : (\r\n                        <NavLink className=\"btn btn-dark mx-2\" to=\"/login\" exact>Login</NavLink>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Navbar)","import React from 'react';\r\nimport {useDispatch, useSelector } from \"react-redux\";\r\nimport { ingresoUsuarioAccion } from \"../redux/usuarioDucks\"\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst Login = (props) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const loading = useSelector(store => store.usuario.loading)\r\n    const activo = useSelector(store => store.usuario.activo)\r\n\r\n\r\n    React.useEffect(() => { \r\n        if(activo){\r\n            props.history.push(\"/\")\r\n        }\r\n    }, [activo]);\r\n\r\n    return (\r\n        <div className=\"mt-5 text-center\">\r\n            <h3>Ingreso con Google</h3>\r\n            <hr />\r\n            <button className=\"btn btn-dark\"\r\n            onClick={() => dispatch(ingresoUsuarioAccion())}\r\n            disabled={loading}\r\n            >Acceder\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Login)\r\n","import React from \"react\";\n\nimport Pokemones from \"./components/Pokemones\";\nimport Navbar from \"./components/Navbar\";\nimport Login from \"./components/Login\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from \"react-router-dom\";\nimport { auth } from \"./firebase\"; \n \nfunction App() {\n\n  const [firebaseUser, setFirebaseUser] = React.useState(false)\n\n  React.useEffect(() => {\n\n    const fetchUser = () => {\n\n      auth.onAuthStateChanged(user => {\n        console.log(user)\n        if(user){\n          setFirebaseUser(user)\n        }else{\n          setFirebaseUser(null)\n        }\n      })\n    }\n    fetchUser()\n  }, [])\n\n  const RutaPrivada = ({component, path, ...rest}) => {\n    if (localStorage.getItem(\"usuario\")) {\n      const userStorage = JSON.parse(localStorage.getItem(\"usuario\"))\n      if (userStorage.uid === firebaseUser.uid){\n       return <Route component={component} path={path} {...rest} />\n      } else {\n        return <Redirect to=\"/login\" {...rest} />\n      }\n    } else {\n      return <Redirect to=\"/login\" {...rest} />\n    }\n  }\n\n  return firebaseUser !== false ? (\n    <Router>\n      <div className=\"container mt-3\">\n\n      <Navbar />\n\n        <Switch>\n          <RutaPrivada component={Pokemones} path=\"/\" exact/>\n          <Route component={Login} path=\"/login\" exact/>\n        </Switch>\n      </div>    \n    </Router>\n  ) : (<div>Cargando...</div>)\n}\n\nexport default App;\n","import { createStore, combineReducers, compose, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport pokeReducer from \"./pokeDucks.js\";\r\nimport usuarioReducer, { leerUsuarioActivoAccion } from \"./usuarioDucks\"\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    pokemones: pokeReducer,\r\n    usuario: usuarioReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport default function generateStore(){\r\n    const store = createStore( rootReducer, composeEnhancers(applyMiddleware(thunk) ))\r\n    leerUsuarioActivoAccion()(store.dispatch);\r\n    return store;\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\nimport {Provider} from \"react-redux\";\nimport generateStore from \"./redux/store\";\n\nconst store = generateStore()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}