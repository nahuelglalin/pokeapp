(this["webpackJsonpredux-project"]=this["webpackJsonpredux-project"]||[]).push([[0],{44:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),s=(a(44),a(5)),i=a(39),u=a(38),l=a(6),d=a(12),b=a.n(d),p=a(15),j=a(18),O=a.n(j),m={count:0,next:null,previous:null,results:[]},f="OBTENER_POKEMONES_EXITO",h="SIGUIENTE_POKEMONES_EXITO",g="POKE_INFO_EXITO";var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://pokeapi.co/api/v2/pokemon/1/";return function(){var t=Object(p.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.getItem(e)){t.next=3;break}return a({type:g,payload:JSON.parse(localStorage.getItem(e))}),t.abrupt("return");case 3:return t.prev=3,t.next=6,O.a.get(e);case 6:n=t.sent,a({type:g,payload:{nombre:n.data.name,ancho:n.data.weight,alto:n.data.height,foto:n.data.sprites.front_default}}),localStorage.setItem(e,JSON.stringify({nombre:n.data.name,ancho:n.data.weight,alto:n.data.height,foto:n.data.sprites.front_default})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()},v=a(1),k=function(){var e=Object(l.b)();r.a.useEffect((function(){e(x())}),[e]);var t=Object(l.c)((function(e){return e.pokemones.unPokemon}));return t?Object(v.jsx)("div",{className:"card mt-4 text-center",children:Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsx)("img",{src:t.foto,className:"img-fluid",alt:""}),Object(v.jsx)("div",{className:"card-title text-uppercase",children:t.nombre}),Object(v.jsxs)("p",{className:"card-text",children:["Alto: ",t.alto," | Ancho: ",t.ancho," "]})]})}):null},y=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.pokemones.results})),a=Object(l.c)((function(e){return e.pokemones.next})),n=Object(l.c)((function(e){return e.pokemones.previous}));return Object(v.jsxs)("div",{className:"row mt-5",children:[Object(v.jsxs)("div",{className:"col-md-6",children:[Object(v.jsx)("h3",{children:"Lista de Pokemones"}),Object(v.jsx)("ul",{className:"list-group mt-4",children:t.map((function(t){return Object(v.jsxs)("li",{className:"list-group-item text-uppercase",children:[t.name,Object(v.jsx)("button",{className:"btn btn-dark btn-sm float-right",onClick:function(){return e(x(t.url))},children:"Info"})]},t.name)}))}),Object(v.jsxs)("div",{className:"d-flex justify-content-between my-4",children:[0===t.length&&Object(v.jsx)("button",{onClick:function(){return e(function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("offset=0")){e.next=3;break}return t({type:f,payload:JSON.parse(localStorage.getItem("offset=0"))}),e.abrupt("return");case 3:return e.prev=3,e.next=6,O.a.get("https://pokeapi.co/api/v2/pokemon?offset=0&limit=10");case 6:a=e.sent,t({type:f,payload:a.data}),localStorage.setItem("offset=0",JSON.stringify(a.data)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}())},className:"btn btn-dark",children:" Get Pokemones "}),n&&Object(v.jsx)("button",{onClick:function(){return e(function(){var e=Object(p.a)(b.a.mark((function e(t,a){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a().pokemones.previous,!localStorage.getItem(n)){e.next=4;break}return t({type:h,payload:JSON.parse(localStorage.getItem(n))}),e.abrupt("return");case 4:return e.prev=4,e.next=7,O.a.get(n);case 7:r=e.sent,t({type:h,payload:r.data}),localStorage.setItem(n,JSON.stringify(r.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,a){return e.apply(this,arguments)}}())},className:"btn btn-dark",children:" Anterior "}),a&&Object(v.jsx)("button",{onClick:function(){return e(function(){var e=Object(p.a)(b.a.mark((function e(t,a){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a().pokemones.next,!localStorage.getItem(n)){e.next=4;break}return t({type:h,payload:JSON.parse(localStorage.getItem(n))}),e.abrupt("return");case 4:return e.prev=4,e.next=7,O.a.get(n);case 7:r=e.sent,t({type:h,payload:r.data}),localStorage.setItem(n,JSON.stringify(r.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,a){return e.apply(this,arguments)}}())},className:"btn btn-dark",children:" Siguiente "})]})]}),Object(v.jsxs)("div",{className:"col-md-6",children:[Object(v.jsx)("h3",{children:"Detalle Pokemon"}),Object(v.jsx)(k,{})]})]})},S=a(14),N=a(22);a(68);N.a.initializeApp({apiKey:"AIzaSyBE787E1HNx8jqjuzxTjm670cK2FeuLdfE",authDomain:"crud-udemy-react-50e51.firebaseapp.com",projectId:"crud-udemy-react-50e51",storageBucket:"crud-udemy-react-50e51.appspot.com",messagingSenderId:"681605506248",appId:"1:681605506248:web:f3ecdb1e2ad5c11f9131fd"});var I=N.a.auth(),E={loading:!1,activo:!1},w="LOADING",_="USUARIO_ERROR",P="USUARIO_EXITO",A="CERRAR_SESION";var J=a(4),C=Object(J.g)((function(e){var t=Object(l.b)(),a=function(){t((function(e){I.signOut(),localStorage.removeItem("usuario"),e({type:A})})),e.history.push("/login")},n=Object(l.c)((function(e){return e.usuario.activo}));return Object(v.jsxs)("div",{className:"navbar navbar-dark bg-dark",children:[Object(v.jsx)(S.b,{className:"navbar-brand mx-2",to:"/",children:" POKE APP "}),Object(v.jsx)("div",{className:"d-flex",children:n?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(S.c,{className:"btn btn-dark mx-2",to:"/",exact:!0,children:"Inicio"}),Object(v.jsx)("button",{className:"btn btn-dark mx-2",onClick:function(){return a()},children:"Cerrar Sesi\xf3n"})]}):Object(v.jsx)(S.c,{className:"btn btn-dark mx-2",to:"/login",exact:!0,children:"Login"})})]})})),R=Object(J.g)((function(e){var t=Object(l.b)(),a=Object(l.c)((function(e){return e.usuario.loading})),n=Object(l.c)((function(e){return e.usuario.activo}));return r.a.useEffect((function(){n&&e.history.push("/")}),[n]),Object(v.jsxs)("div",{className:"mt-5 text-center",children:[Object(v.jsx)("h3",{children:"Ingreso con Google"}),Object(v.jsx)("hr",{}),Object(v.jsx)("button",{className:"btn btn-dark",onClick:function(){return t(function(){var e=Object(p.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:w}),e.prev=1,a=new N.a.auth.GoogleAuthProvider,e.next=5,I.signInWithPopup(a);case 5:n=e.sent,console.log(n),t({type:P,payload:{uid:n.user.uid,email:n.user.email}}),localStorage.setItem("usuario",JSON.stringify({uid:n.user.uid,email:n.user.email})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),t({type:_});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())},disabled:a,children:"Acceder"})]})}));var T=function(){var e=r.a.useState(!1),t=Object(u.a)(e,2),a=t[0],n=t[1];r.a.useEffect((function(){I.onAuthStateChanged((function(e){console.log(e),n(e||null)}))}),[]);var c=function(e){var t=e.component,n=e.path,r=Object(i.a)(e,["component","path"]);return localStorage.getItem("usuario")&&JSON.parse(localStorage.getItem("usuario")).uid===a.uid?Object(v.jsx)(J.b,Object(s.a)({component:t,path:n},r)):Object(v.jsx)(J.a,Object(s.a)({to:"/login"},r))};return!1!==a?Object(v.jsx)(S.a,{children:Object(v.jsxs)("div",{className:"container mt-3",children:[Object(v.jsx)(C,{}),Object(v.jsxs)(J.d,{children:[Object(v.jsx)(c,{component:y,path:"/",exact:!0}),Object(v.jsx)(J.b,{component:R,path:"/login",exact:!0})]})]})}):Object(v.jsx)("div",{children:"Cargando..."})},K=a(19),U=a(37),X=Object(K.b)({pokemones:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:case h:return Object(s.a)(Object(s.a)({},e),t.payload);case g:return Object(s.a)(Object(s.a)({},e),{},{unPokemon:t.payload});default:return e}},usuario:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case _:return Object(s.a)({},E);case P:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,user:t.payload,activo:!0});case A:return Object(s.a)({},E);default:return Object(s.a)({},e)}}}),D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||K.c;var G=function(){var e,t=Object(K.d)(X,D(Object(K.a)(U.a)));return e=t.dispatch,localStorage.getItem("usuario")&&e({type:P,payload:JSON.parse(localStorage.getItem("usuario"))}),t}();o.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(l.a,{store:G,children:Object(v.jsx)(T,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.0996e19f.chunk.js.map